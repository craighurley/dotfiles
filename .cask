#!/usr/bin/env bash

isWorkMachine=false

# Start
echo "$(basename "$0") starting."

read -r -p "Is this a work machine? (y/n) " -n 1
echo
if [[ $REPLY =~ ^[Yy]$ ]] ; then
    isWorkMachine=true
fi

# homebrew options
export HOMEBREW_CASK_OPTS=""

# Ask for the administrator password upfront
sudo -v

# setup taps
brew tap caskroom/fonts
brew tap caskroom/cask

# install applications
#brew cask reinstall --require-sha balsamiq-mockups
brew cask reinstall --require-sha bettertouchtool
brew cask reinstall --require-sha ccleaner
brew cask reinstall --require-sha dash
brew cask reinstall --require-sha docker
brew cask reinstall --require-sha eclipse-jee
brew cask reinstall --require-sha firefox
brew cask reinstall --require-sha flux
brew cask reinstall --require-sha hyperswitch
brew cask reinstall --require-sha iterm2
brew cask reinstall --require-sha java
brew cask reinstall --require-sha kaleidoscope
brew cask reinstall --require-sha skype
brew cask reinstall --require-sha snagit
brew cask reinstall --require-sha spideroakone
brew cask reinstall --require-sha sublime-text
brew cask reinstall --require-sha the-unarchiver
brew cask reinstall --require-sha totalspaces
brew cask reinstall --require-sha vagrant
brew cask reinstall --require-sha virtualbox
brew cask reinstall --require-sha virtualbox-extension-pack
brew cask reinstall --require-sha wireshark

# if this is not a work machine
if [[ $isWorkMachine == false ]] ; then
    brew cask reinstall --require-sha adobe-photoshop-lightroom
    brew cask reinstall --require-sha dropbox
    brew cask reinstall --require-sha vlc
fi

# if this is a work machine
if [[ $isWorkMachine == true ]] ; then
    brew cask reinstall --require-sha charles
    brew cask reinstall --require-sha hipchat
    brew cask reinstall --require-sha joinme
fi

# install fonts
brew cask reinstall --require-sha font-source-code-pro
brew cask reinstall --require-sha font-source-code-pro-for-powerline

# cleanup unneeded files
brew cleanup

# Finished
echo "$(basename "$0") complete."
